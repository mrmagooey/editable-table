<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
	<title>Tiny editable spreadsheet</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="keywords" content="opensource editable table spreadsheet" />
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.css" type="text/css" media="screen" />
  </head>
  <body>
    <a href="https://github.com/mrmagooey/taboo-table"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/652c5b9acfaddf3a9c326fa6bde407b87f7be0f4/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6f72616e67655f6666373630302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png"></a>
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <h1>taboo-table</h1>
          <h2>About</h2>
          <p>
            This plugin synchronises taboo tabular data structures with html tables and provides some in page editing capabilities. Key features:
          </p>
          <ul>
            <li>Updates a html table as a taboo table updates, and the reverse.</li>
            <li>Uses standard DOM focus for selection (so does not interrupt scrolling or tabbing outside the table)</li>
            <li>Does not force any styling (so you can style it any way you want, using normal CSS)</li>
          </ul>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12">
          <h2>Usage and Examples</h2>
          <p>
            Each html table can be navigated using arrow keys, and new data can be input by simply typing it.
          </p>
          <p>
            New rows can be added by moving the focus to the bottom of the table and pressing either the down arrow or enter.
          </p>
        <h3>Basic Table Synchronisation</h3>
        </div>
        <div class="col-md-6">
          <h4>Table 1</h4>
          <p>
            taboo-table created by using a taboo object pre-filled with rows.
          </p>
          <pre class="prettyprint">
var taboo1 = new Taboo('test1');
// add rows to taboo1
taboo1.addRows([{col1:'a', col3:'b'}, {col1:'c', col3:'d'}]);
taboo1.addRows([{col1:'e', col3:'f'}, {col1:'g', col3:'h'}]);
var table1 = new tabooTable('#test1', taboo1);
          </pre>
          <table id="test1" class="table table-bordered"></table>
        </div>
        <div class="col-md-6">
          <h4>Table 2</h4>
          <p>
            taboo-table synchronising the html table with the taboo table as it updates.
          </p>
          <pre class="prettyprint">
var taboo1 = new Taboo('test1');
var table1 = new tabooTable('#test1', taboo1);
// table1 is now watching taboo1 for updates
taboo1.addRows([{col1:'a', col3:'b'}, {col1:'c', col3:'d'}]);
taboo1.addRows([{col1:'e', col3:'f'}, {col1:'g', col3:'h'}]);
          </pre>
          <table id="test2" class="table table-bordered"></table>
        </div>
      </div>
      <div class="row">
        <div class="col-md-6">
          <h3>Join Table Synchronisation</h3>
        </div>
      </div>
      <div class="row">
        <div class="col-md-6">
          <h4>Table 1 left join Table 2 on col1</h4>
          <p>
            Demonstrates a taboo-table updating the underlying taboo object as it 
            is updated from a left join on column <strong>col1</strong>.
          </p>
          <p>
            Manual changes to these tables will be overwritten by making changes to above tables.
          </p>
          <pre class="prettyprint">
var leftTaboo = taboo1.leftJoin('col1', taboo2, 'col1');
var leftTable = new tabooTable('#join', leftTaboo);
function updateLeftJoin(){
    leftTaboo = taboo1.leftJoin('col1', taboo2, 'col1');
    leftTable.updateTaboo(leftTaboo);
};
taboo1.registerCallback('update', updateLeftJoin);
taboo2.registerCallback('update', updateLeftJoin);
          </pre>
          <table id="join" class="table table-bordered"></table>
          <br/>
        </div>
        <div class="col-md-6">
          <h4>Table 1 inner join Table 2 on col1</h4>
          <p>
            Demonstrates a taboo-table updating the underlying taboo object as it 
            is updated from an inner join on column <strong>col1</strong>.
          </p>
          <p>
            Manual changes to these tables will be overwritten by making changes to above tables.
          </p>
          <pre class="prettyprint">
var innerTaboo = taboo1.innerJoin('col1', taboo2, 'col1');
var innerTable = new tabooTable('#inner', innerTaboo);
function updateInnerJoin(){
    innerTaboo = taboo1.innerJoin('col1', taboo2, 'col1');
    innerTable.updateTaboo(innerTaboo);
};
taboo1.registerCallback('update', updateInnerJoin);
taboo2.registerCallback('update', updateInnerJoin);
          </pre>
          <table id="inner" class="table table-bordered"></table>
          <br/>
        </div>
      </div>
    </div>

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.js"></script>
    <script>prettyPrint();</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.7.0/underscore-min.js"></script>    
    <script src="https://rawgit.com/mrmagooey/taboo/master/taboo.js"></script>
    <script src="./taboo-table.js"></script>
    <script>
      var taboo1 = new Taboo('test1');
      taboo1.addRows([{col1:'a', col3:'b'}, {col1:'c', col3:'d'}]);
      var table1 = new tabooTable('#test1', taboo1);
      taboo1.addRows([{col1:'e', col3:'f'}, {col1:'g', col3:'h'}]);
      
      var taboo2 = new Taboo('test2');
      taboo2.addRows([{col1:'a', col2:'b'}, {col1:'c', col2:'asdf'}]);
      var table2 = new tabooTable('#test2', taboo2);
      taboo2.addRows([{col1:'cat', col2:'dog'}, {col1:'horse', col2:'elephant'}]);
      
      var leftTaboo = taboo1.leftJoin('col1', taboo2, 'col1');
      var leftTable = new tabooTable('#join', leftTaboo);
      
      function updateLeftJoin(){
      leftTaboo = taboo1.leftJoin('col1', taboo2, 'col1');
      leftTable.updateTaboo(leftTaboo);
      };
      
      taboo1.registerCallback('update', updateLeftJoin);
      taboo2.registerCallback('update', updateLeftJoin);
      
      var innerTaboo = taboo1.innerJoin('col1', taboo2, 'col1');
      var innerTable = new tabooTable('#inner', innerTaboo);
      
      function updateInnerJoin(){
      innerTaboo = taboo1.innerJoin('col1', taboo2, 'col1');
      innerTable.updateTaboo(innerTaboo);
      };
      
      taboo1.registerCallback('update', updateInnerJoin);
      taboo2.registerCallback('update', updateInnerJoin);
      
    </script>
  </body>
</html>
